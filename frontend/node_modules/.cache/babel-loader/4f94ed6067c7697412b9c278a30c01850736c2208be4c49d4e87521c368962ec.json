{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\n\n// function Payment() {\n//   const [name, setName] = useState(\"\");\n//   const [cardNumber, setCardNumber] = useState(\"\");\n//   const [cnn, setCnn] = useState(\"\");\n//   const [payments, setPayments] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [message, setMessage] = useState(\"\");\n\n//   // Helper to get token from localStorage\n//   const getToken = () => localStorage.getItem(\"token\");\n\n//   // Fetch payments on load\n//   useEffect(() => {\n//     const token = getToken();\n//     if (!token) {\n//       setMessage(\"You must be logged in to view payments.\");\n//       setLoading(false);\n//       return;\n//     }\n//     axios\n//       .get(\"http://localhost:5001/user/payment\", {\n//         headers: { Authorization: `Bearer ${token}` },\n//       })\n//       .then((res) => {\n//         setPayments(res.data);\n//         setLoading(false);\n//       })\n//       .catch((err) => {\n//         console.error(\"Error fetching payments:\", err);\n//         setLoading(false);\n//       });\n//   }, []);\n\n//   const handleSubmit = (e) => {\n//     e.preventDefault();\n//     const token = getToken();\n//     if (!token) {\n//       setMessage(\"You must be logged in to add a payment.\");\n//       return;\n//     }\n//     axios\n//       .post(\n//         \"http://localhost:5001/user/payment\",\n//         { name, cardNumber, cnn },\n//         { headers: { Authorization: `Bearer ${token}` } }\n//       )\n//       .then((res) => {\n//         setMessage(res.data);\n//         // Refresh payment list\n//         return axios.get(\"http://localhost:5001/user/payment\", {\n//           headers: { Authorization: `Bearer ${token}` },\n//         });\n//       })\n//       .then((res) => {\n//         setPayments(res.data);\n//         setName(\"\");\n//         setCardNumber(\"\");\n//         setCnn(\"\");\n//       })\n//       .catch((err) => {\n//         console.error(\"Error adding payment:\", err);\n//         setMessage(\"Error adding payment\");\n//       });\n//   };\n\n//   return (\n//     <div style={{ padding: \"20px\", maxWidth: \"500px\", margin: \"0 auto\" }}>\n//       <h2>Add Payment</h2>\n//       <form\n//         onSubmit={handleSubmit}\n//         style={{ display: \"flex\", flexDirection: \"column\", gap: \"10px\" }}\n//       >\n//         <input\n//           type=\"text\"\n//           placeholder=\"Cardholder Name\"\n//           value={name}\n//           onChange={(e) => setName(e.target.value)}\n//           required\n//         />\n//         <input\n//           type=\"text\"\n//           placeholder=\"Card Number\"\n//           value={cardNumber}\n//           onChange={(e) => setCardNumber(e.target.value)}\n//           required\n//         />\n//         <input\n//           type=\"number\"\n//           placeholder=\"CNN\"\n//           value={cnn}\n//           onChange={(e) => setCnn(e.target.value)}\n//           required\n//         />\n//         <button type=\"submit\">Add Payment</button>\n//       </form>\n\n//       {message && <p>{message}</p>}\n\n//       <h2 style={{ marginTop: \"30px\" }}>Your Payments</h2>\n//       {loading && <p>Loading...</p>}\n//       {!loading && payments.length === 0 && <p>No payments found.</p>}\n//       {!loading && payments.length > 0 && (\n//         <ul style={{ listStyle: \"none\", padding: 0 }}>\n//           {payments.map((payment) => (\n//             <li\n//               key={payment._id}\n//               style={{\n//                 border: \"1px solid #ddd\",\n//                 borderRadius: \"8px\",\n//                 padding: \"10px\",\n//                 marginBottom: \"10px\",\n//                 backgroundColor: \"#f9f9f9\",\n//               }}\n//             >\n//               <strong>{payment.name}</strong> <br />\n//               Card Number: {payment.cardNumber} <br />\n//               CNN: {payment.cnn}\n//             </li>\n//           ))}\n//         </ul>\n//       )}\n//     </div>\n//   );\n// }\n\n// export default Payment;","map":{"version":3,"names":[],"sources":["C:/Users/bimsa/Desktop/MERN 3/frontend/src/components/Payment.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// function Payment() {\r\n//   const [name, setName] = useState(\"\");\r\n//   const [cardNumber, setCardNumber] = useState(\"\");\r\n//   const [cnn, setCnn] = useState(\"\");\r\n//   const [payments, setPayments] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [message, setMessage] = useState(\"\");\r\n\r\n//   // Helper to get token from localStorage\r\n//   const getToken = () => localStorage.getItem(\"token\");\r\n\r\n//   // Fetch payments on load\r\n//   useEffect(() => {\r\n//     const token = getToken();\r\n//     if (!token) {\r\n//       setMessage(\"You must be logged in to view payments.\");\r\n//       setLoading(false);\r\n//       return;\r\n//     }\r\n//     axios\r\n//       .get(\"http://localhost:5001/user/payment\", {\r\n//         headers: { Authorization: `Bearer ${token}` },\r\n//       })\r\n//       .then((res) => {\r\n//         setPayments(res.data);\r\n//         setLoading(false);\r\n//       })\r\n//       .catch((err) => {\r\n//         console.error(\"Error fetching payments:\", err);\r\n//         setLoading(false);\r\n//       });\r\n//   }, []);\r\n\r\n//   const handleSubmit = (e) => {\r\n//     e.preventDefault();\r\n//     const token = getToken();\r\n//     if (!token) {\r\n//       setMessage(\"You must be logged in to add a payment.\");\r\n//       return;\r\n//     }\r\n//     axios\r\n//       .post(\r\n//         \"http://localhost:5001/user/payment\",\r\n//         { name, cardNumber, cnn },\r\n//         { headers: { Authorization: `Bearer ${token}` } }\r\n//       )\r\n//       .then((res) => {\r\n//         setMessage(res.data);\r\n//         // Refresh payment list\r\n//         return axios.get(\"http://localhost:5001/user/payment\", {\r\n//           headers: { Authorization: `Bearer ${token}` },\r\n//         });\r\n//       })\r\n//       .then((res) => {\r\n//         setPayments(res.data);\r\n//         setName(\"\");\r\n//         setCardNumber(\"\");\r\n//         setCnn(\"\");\r\n//       })\r\n//       .catch((err) => {\r\n//         console.error(\"Error adding payment:\", err);\r\n//         setMessage(\"Error adding payment\");\r\n//       });\r\n//   };\r\n\r\n//   return (\r\n//     <div style={{ padding: \"20px\", maxWidth: \"500px\", margin: \"0 auto\" }}>\r\n//       <h2>Add Payment</h2>\r\n//       <form\r\n//         onSubmit={handleSubmit}\r\n//         style={{ display: \"flex\", flexDirection: \"column\", gap: \"10px\" }}\r\n//       >\r\n//         <input\r\n//           type=\"text\"\r\n//           placeholder=\"Cardholder Name\"\r\n//           value={name}\r\n//           onChange={(e) => setName(e.target.value)}\r\n//           required\r\n//         />\r\n//         <input\r\n//           type=\"text\"\r\n//           placeholder=\"Card Number\"\r\n//           value={cardNumber}\r\n//           onChange={(e) => setCardNumber(e.target.value)}\r\n//           required\r\n//         />\r\n//         <input\r\n//           type=\"number\"\r\n//           placeholder=\"CNN\"\r\n//           value={cnn}\r\n//           onChange={(e) => setCnn(e.target.value)}\r\n//           required\r\n//         />\r\n//         <button type=\"submit\">Add Payment</button>\r\n//       </form>\r\n\r\n//       {message && <p>{message}</p>}\r\n\r\n//       <h2 style={{ marginTop: \"30px\" }}>Your Payments</h2>\r\n//       {loading && <p>Loading...</p>}\r\n//       {!loading && payments.length === 0 && <p>No payments found.</p>}\r\n//       {!loading && payments.length > 0 && (\r\n//         <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n//           {payments.map((payment) => (\r\n//             <li\r\n//               key={payment._id}\r\n//               style={{\r\n//                 border: \"1px solid #ddd\",\r\n//                 borderRadius: \"8px\",\r\n//                 padding: \"10px\",\r\n//                 marginBottom: \"10px\",\r\n//                 backgroundColor: \"#f9f9f9\",\r\n//               }}\r\n//             >\r\n//               <strong>{payment.name}</strong> <br />\r\n//               Card Number: {payment.cardNumber} <br />\r\n//               CNN: {payment.cnn}\r\n//             </li>\r\n//           ))}\r\n//         </ul>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Payment;\r\n\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}